{
    "builders": [
        {
            "type": "virtualbox-ovf",
            "vm_name": "centos-7-ansible",
            "guest_additions_mode": "disable",
            "headless": true,
            "source_path": "output-virtualbox-ovf/centos-7-guest-additions.ovf",
            "output_directory": "output-virtualbox-ovf-ansible",
            "ssh_username": "root",
            "ssh_password": "vagrant",
            "shutdown_command": "poweroff",
            "vboxmanage": [
                [
                    "modifyvm",
                    "{{.Name}}",
                    "--memory",
                    "2048",
                    "--cpus",
                    "4"
                ]
            ]
        }
    ],
    "provisioners": [
        {
            "type": "shell",
            "environment_vars": [
                "ANSIBLE_VERSION={{ user `ansible_version` }}"
            ],
            "scripts": [
                "scripts/centos-7-ansible.sh",
                "scripts/clean-ssh-host-keys.sh"
            ]
        }
    ],
    "post-processors": [
        {
            "type": "vagrant",
            "output": "boxes/centos-7-ansible-{{.Provider}}.box",
            "keep_input_artifact": true
        }
    ]
}